<?xml version="1.0" encoding="UTF-8"?>
<esper-configuration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://www.espertech.com/schema/esper"
    xsi:noNamespaceSchemaLocation="esper-configuration-8-0.xsd">
<common>
   <event-type name="StockTick" type="Input">
      <objectarray>
        <objectarray-property name="symbol" class="string"/>
        <objectarray-property name="price" class="double"/>
        <objectarray-property name="volume" class="int"/>
        <objectarray-property name="TS" class="long"/>
      </objectarray>
    </event-type>
    <event-type name="StockAvg" type="Output">
      <objectarray>
        <objectarray-property name="symbol" class="string"/>
        <objectarray-property name="avgPrice" class="double"/>
        <objectarray-property name="TS" class="long"/>
      </objectarray>
    </event-type>
    <event-type name="Nuevo" type="Input">
	  <objectarray>
        <objectarray-property name="bul" class="boolean"/>
        <objectarray-property name="entero" class="int"/>
        <objectarray-property name="TeS" class="long"/>
      </objectarray>
    </event-type>
    <event-type name="Prueba" type="Output">
      <objectarray>
        <objectarray-property name="entero" class="int"/>
        <objectarray-property name="avgEntero" class="double"/>
        <objectarray-property name="TeS" class="long"/>
      </objectarray>
    </event-type>
    <event-type name="StockAvg2" type="Output">
      <objectarray>
        <objectarray-property name="symbol" class="string"/>
        <objectarray-property name="Avg2" class="double"/>
      </objectarray>
    </event-type>
<!-- Sample for an variant stream configuration that is a stream of events of multiple types. -->
	<variant-stream name="MyVariantStream">
	  <variant-event-type name="StockAvg"/>
	  <variant-event-type name="StockAvg2"/>	
	  <variant-event-type name="Prueba"/>
	</variant-stream>    
	<logging>
		<!-- By default the compiler and runtime do not report JBDC query performance information or other relevant JDBC API information. By setting this flag JDBC query information is measured and logged at information level.-->
		<jdbc enabled="false" />
		<!-- By default the runtime does not report query plan information unless logging at debug level. By setting this flag query plan information is logged at information level..-->
		<query-plan enabled="false"/>
	</logging>    	
  </common>
  <compiler>
  		<view-resources>
		<!--	 This setting is false by default. When false, multiple expiry policies (EPL statements where a stream has multiple data windows) are allowed and result in an expiry policy that retains the intersection of the data windows. See retain-intersection and retain-union keywords.
				   When setting this flag to true, and when multiple expiry policies are specified for a stream, the data windows act by forwarding the insert and remove stream and thus intersecion and union behavior is not available. 
				   The setting is available for backward-compatilibility to 2.x versions or special cases where custom behavior is desired.-->
			
			<allow-multiple-expiry-policy enabled="true"/>
		<stream-selection>
			<!-- By default the runtime generates output for the insert stream only, and not for the remove stream. The "istream" is the default. --> 
			<!-- To obtain output for remove stream only, or for insert stream and remove stream, there are keywords "rstream" and "irstream" for use in the select clause. -->
			<!-- This setting controls the default behavior, if no keyword is specified in the select-clause by statements. -->
			<stream-selector value="istream" />
		</stream-selection>
		</view-resources>
		<!-- The "attach-epl" is for passing the EPL to the compiled byte code (the default is true). -->		
		<!-- By setting all access modifiers to private modules do not see each others definitions (default is private).-->
		<!-- By setting the bus modifier for event types to hidden we make sure the "sendEvent" does not allow such event types (default is hidden).-->
  		<!--	<bytecode
                allow-subscriber="true"
                access-modifier-context="public"
                access-modifier-event-type="public"
                access-modifier-expression="public"
                access-modifier-named-window="public"
                access-modifier-script="public"
                access-modifier-table="public"
                access-modifier-variable="public"
                bus-modifier-event-type="bus"/>
-->
   </compiler>
  <runtime/>
</esper-configuration>